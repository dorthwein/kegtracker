
    <div class="full sidebar">
        <div class="logo">    
        </div>

        <input type="button" value="Excel" class='excelExport' data-role="none"/>       
        <input type="button" value="Refresh Records" id='findRecord' data-role="none"/>
        <div id='date'>
        </div>

        <button class=' jqxFilterToggle' data-role="none"> Filter Off </button>



        <div class="jqxGridColumnListBox">  </div>
    </div>
    <div class="full display">
        <div class="toolbar">   

        </div>
        <div class="jqxGrid full display"></div>
    </div>

<script>
$(document).ready(function(){
    $("#date").jqxDateTimeInput({ theme: settings.theme });
    $('#date').bind('valuechanged', function (event) {  
        
    //  var jsDate = event.args.date;       
    }); 

    var source = {
        datatype : "json",
        type: 'POST',
        datafields: [
            { name: 'location_network_description' },
            { name: 'product_description' },            
            { name: 'asset_type_description' },
            { name: 'product_entity_description' },
            { name: 'delivery_life_cycle_avg_time' },
            { name: 'delivery_life_cycle_min_time' },
            { name: 'delivery_life_cycle_max_time' },
            { name: 'delivery_life_cycle_completed_cycles' },
            { name: '_id' }
        ],
        url: location.href,
        root: 'grid',
    };

    var dataAdapter = new $.jqx.dataAdapter(source, {
        formatData: function(){
            var params = {}                     
            var jsDate = $('#date').jqxDateTimeInput('getDate')
            params['date'] = jsDate;

            return params       
        },
        downloadComplete: function(edata, textStatus, jqXHR){       
            var jsDate = $('#date').jqxDateTimeInput('getDate'); 
            params['date'] = jsDate;
            $('#displayDate').html(jsDate.toDateString());
        }
    });

    // Initialize Grid  
    var gridSettings = settings.jqxGridProperties
    gridSettings['source'] = dataAdapter;
    gridSettings['columns'] = [
        { text: 'Distribution Network', width:'150px', datafield: 'location_network_description', filtertype: 'checkedlist'  },
        { text: 'Product',  datafield: 'product_description', filtertype: 'checkedlist'  },
        { text: 'Brewery',  datafield: 'product_entity_description', filtertype: 'checkedlist'  },
        { text: 'Container',  datafield: 'asset_type_description', filtertype: 'checkedlist' },
        { text: 'Min (Days)', width:'90px', datafield: 'delivery_life_cycle_min_time', filtertype: 'number'  },
        { text: 'Avg. (Days)', width:'90px', datafield: 'delivery_life_cycle_avg_time', filtertype: 'number' },          
        { text: 'Max (Days)', width:'90px', datafield: 'delivery_life_cycle_max_time', filtertype: 'number' },
        { text: '# Cycles', width:'90px', datafield: 'delivery_life_cycle_completed_cycles', filtertype: 'number' },         
    ],
    
    $("#findRecord").jqxButton({ theme: settings.theme });  
    $("#findRecord").click(function () {        
        dataAdapter.dataBind();
    });
    
    $(".jqxGrid").jqxGrid( gridSettings );  
    jqxIntialize()
                        

});




</script>